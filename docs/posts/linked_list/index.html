<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>linked list</title>
    
    
    <style type="text/css" media="all">@import "/style.css";</style>
    <style type="text/css" media="all">@import "/syntax.css";</style>
    
  </head>
  <body>
    <header>
  <span class="site-title" style="font-size:3rem;display:inline-block;vertical-align:middle;"><a href="https://upunder.us"><img src="/favicon.svg" alt="img" width="64rem" height="64rem" style="display:inline-block;vertical-align: middle;"/></a> up under us</span>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  
</header>

    


<main>
  <article>
    <header>
      <h1>linked list</h1>
    </header>
    <time datetime="2023-10-11T00:00:00">
      2023.10.11 00:00
    </time>
    
    Reading time:
    
    
    
    
    1 min
    
    42 s.
    <div>
      <h3>Table of contents</h3>
      
    </div>
    <p>Write a linked list in C:</p>

<pre><code class="language-c">#include &lt;stddef.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

struct list_head {
  struct list_head *next;
  struct list_head *prev;
};

void init_list_head(struct list_head *head) {
  head-&gt;next = head;
  head-&gt;prev = head;
}

void list_add(struct list_head *head, struct list_head *new_node) {
  new_node-&gt;next = head-&gt;next;
  new_node-&gt;prev = head;
  head-&gt;next-&gt;prev = new_node;
  head-&gt;next = new_node;
}

void list_add_tail(struct list_head *head, struct list_head *new_node) {
  new_node-&gt;next = head;
  new_node-&gt;prev = head-&gt;prev;
  head-&gt;prev-&gt;next = new_node;
  head-&gt;prev = new_node;
}

void list_del(struct list_head *node) {
  node-&gt;prev-&gt;next = node-&gt;next;
  node-&gt;next-&gt;prev = node-&gt;prev;
}

struct student {
  struct list_head list;
  int id;
  int yy;
  int mm;
  int dd;
};

void printList(struct list_head *head) {
  struct list_head *current = head-&gt;next;
  while (current != head) {

    struct student *studentNode =
        (struct student *)((char *)current - offsetof(struct student, list));
    printf(&quot;ID: %d, Date: %d-%d-%d\n&quot;, studentNode-&gt;id, studentNode-&gt;yy,
           studentNode-&gt;mm, studentNode-&gt;dd);

    current = current-&gt;next;
  }
}

struct student *findNodeByID(struct list_head *head, int targetID) {
  struct list_head *current = head-&gt;next;
  while (current != head) {
    struct student *studentNode =
        (struct student *)((char *)current - offsetof(struct student, list));
    if (studentNode-&gt;id == targetID) {
      return studentNode;
    }
    current = current-&gt;next;
  }
  return NULL;
}

int main() {
  struct list_head myList;
  init_list_head(&amp;myList);

  struct student lihua = {.list = {&amp;lihua.list, &amp;lihua.list},
                          .id = 1,
                          .yy = 2023,
                          .mm = 1,
                          .dd = 1};
  struct student zhangsan = {.list = {&amp;zhangsan.list, &amp;zhangsan.list},
                             .id = 2,
                             .yy = 2023,
                             .mm = 1,
                             .dd = 1};
  struct student wangwu = {.list = {&amp;wangwu.list, &amp;wangwu.list},
                           .id = 3,
                           .yy = 2023,
                           .mm = 1,
                           .dd = 1};

  list_add_tail(&amp;myList, &amp;lihua.list);
  list_add_tail(&amp;myList, &amp;zhangsan.list);
  list_add(&amp;myList, &amp;wangwu.list);

  printf(&quot;Linked List:\n&quot;);
  printList(&amp;myList);

  list_del(&amp;zhangsan.list);

  printf(&quot;\nLinked List after removal:\n&quot;);
  printList(&amp;myList);

  int targetID = 3;
  struct student *foundNode = findNodeByID(&amp;myList, targetID);
  if (foundNode != NULL) {
    printf(&quot;\nFound node with ID %d: Date %d-%d-%d\n&quot;, targetID, foundNode-&gt;yy,
           foundNode-&gt;mm, foundNode-&gt;dd);
  } else {
    printf(&quot;\nNode with ID %d not found\n&quot;, targetID);
  }

  return 0;
}
</code></pre>

<pre><code class="language-c">// XOR Linked list
typedef struct node {
  int val;
  struct node *ptr;
} node_t;

node_t *xor (node_t a, node_t b){
  return ((int)&amp;a ^ (int)&amp;b);
}

node_t a,b,c;
a.val=0;
b.val=1;
c.val=2;

a.ptr = &amp;b ^ &amp;c;
b.ptr = &amp;a ^ &amp;c;
c.ptr = &amp;a ^ &amp;b;

void push(int i, node_t *p) {
  node_t *node = new node;
  node-&gt;val = i;
  node-&gt;nxt = p-&gt;nxt;
  p-&gt;nxt = node;
}
</code></pre>

    
  </article>
</main>

<a href="https://upunder.us/posts/programming_environment/">Prev: programming environment</a>

<br>

<a href="https://upunder.us/posts/avatar/">Next: avatar</a>

<aside class="latest-posts">
  <div>
    <div class="section-header">
      <h3>LATEST POSTS</h3>
    </div>
    <div class="post-list">
      <ul>
        
        <li><a href="/posts/bijection/">bijection</a></li>
        
        <li><a href="/posts/curves/">curves</a></li>
        
        <li><a href="/posts/calculus/">calculus</a></li>
        
        <li><a href="/posts/prime_algorithms/">prime algorithms</a></li>
        
        <li><a href="/posts/bitwise_operation/">bitwise operation</a></li>
        
      </ul>
    </div>
  </div>
</aside>


    <footer class="site-footer">
  <p>2023 <a href="https://upunder.us">up under us</a></p>
</footer>

  </body>
</html>
