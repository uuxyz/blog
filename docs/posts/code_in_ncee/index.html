<!DOCTYPE html>
<html lang="en-us">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>Code in ncee</title>
	
	
	<style type="text/css" media="all">@import "/style.css";</style>
	<style type="text/css" media="all">@import "/syntax.css";</style>
	
</head>
<body>
	<header>
    <a href="https://xy-iii.github.io">ğ’©ğ‘’ğ“‹ğ‘’ğ“‡ ğ“€ğ“ƒğ‘œğ“Œğ“ˆ ğ’·ğ‘’ğ“ˆğ“‰</a>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg">
    
</header>

	


	<main>
		<article>
		<header>
			<h1>Code in ncee</h1>
		</header>
			<time datetime="2022-10-27T01:37:02">
			2022.10.27 01:37
			</time>
			
			<div>
							<h3>Table of contents</h3>
							<nav id="TableOfContents">
  <ul>
    <li><a href="#å¿…ä¿®1--æ•°æ®ä¸è®¡ç®—">å¿…ä¿®1  æ•°æ®ä¸è®¡ç®—</a>
      <ul>
        <li><a href="#å¿…ä¿®1-ç¬¬ä¸€ç« -ç´ æ">å¿…ä¿®1 ç¬¬ä¸€ç«  ç´ æ</a></li>
        <li><a href="#å¿…ä¿®1-ç¬¬äºŒç« -ç´ æ">å¿…ä¿®1 ç¬¬äºŒç«  ç´ æ</a></li>
        <li><a href="#å¿…ä¿®1-ç¬¬ä¸‰ç« -ç´ æ">å¿…ä¿®1 ç¬¬ä¸‰ç«  ç´ æ</a>
          <ul>
            <li><a href="#31-ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€èˆ¬è¿‡ç¨‹">3.1 ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€èˆ¬è¿‡ç¨‹</a></li>
            <li><a href="#32-pythonè¯­è¨€ç¨‹åºè®¾è®¡">3.2 Pythonè¯­è¨€ç¨‹åºè®¾è®¡</a>
              <ul>
                <li><a href="#32-å®è·µä¸ä½“éªŒç¼–ç¨‹å®ç°å›¾åƒçš„ç®€å•å¤„ç†">3.2 å®è·µä¸ä½“éªŒâ€”â€”ç¼–ç¨‹å®ç°å›¾åƒçš„ç®€å•å¤„ç†</a></li>
              </ul>
            </li>
            <li><a href="#33-ç®€å•ç®—æ³•åŠå…¶ç¨‹åºå®ç°">3.3 ç®€å•ç®—æ³•åŠå…¶ç¨‹åºå®ç°</a>
              <ul>
                <li><a href="#33-å®è·µä¸ä½“éªŒå›¾åƒå­—ç¬¦ç”»">3.3 å®è·µä¸ä½“éªŒâ€”â€”å›¾åƒå­—ç¬¦ç”»</a></li>
                <li><a href="#ä½¿ç”¨imageæ¨¡å—å®ç°å¡«æ¶‚åˆ¤æ–­">ä½¿ç”¨Imageæ¨¡å—å®ç°å¡«æ¶‚åˆ¤æ–­</a></li>
                <li><a href="#å‡†è€ƒè¯å·å¡«æ¶‚è¯†åˆ«">å‡†è€ƒè¯å·å¡«æ¶‚è¯†åˆ«</a></li>
                <li><a href="#åˆ¤å®šé»‘ç™½åƒç´ ">åˆ¤å®šé»‘ç™½åƒç´ </a></li>
                <li><a href="#ç»Ÿè®¡5ä¸ªåƒç´ ä¸­çš„é»‘è‰²åƒç´ ä¸ªæ•°">ç»Ÿè®¡5ä¸ªåƒç´ ä¸­çš„é»‘è‰²åƒç´ ä¸ªæ•°</a></li>
                <li><a href="#è¯»å–æ–‡ä»¶æ•°æ®å®ç°å¡«æ¶‚åˆ¤æ–­">è¯»å–æ–‡ä»¶æ•°æ®å®ç°å¡«æ¶‚åˆ¤æ–­</a></li>
              </ul>
            </li>
          </ul>
        </li>
        <li><a href="#å¿…ä¿®1-ç¬¬å››ç« -ç´ æ">å¿…ä¿®1 ç¬¬å››ç«  ç´ æ</a>
          <ul>
            <li><a href="#42-èº«è¾¹çš„ç™¾å®¶å§“">4.2 èº«è¾¹çš„ç™¾å®¶å§“</a></li>
            <li><a href="#42-å®è·µä¸ä½“éªŒ-ä¸­æ–‡åˆ†è¯ä¸æ ‡ç­¾äº‘">4.2 å®è·µä¸ä½“éªŒ ä¸­æ–‡åˆ†è¯ä¸æ ‡ç­¾äº‘</a></li>
            <li><a href="#å·©å›ºæé«˜-4é€‰è¯¾python">å·©å›ºæé«˜ 4.é€‰è¯¾python</a></li>
          </ul>
        </li>
        <li><a href="#å¿…ä¿®1-ç¬¬äº”ç« -ç´ æ">å¿…ä¿®1 ç¬¬äº”ç«  ç´ æ</a></li>
      </ul>
    </li>
    <li><a href="#å¿…ä¿®2--ä¿¡æ¯ç³»ç»Ÿä¸ç¤¾ä¼š">å¿…ä¿®2  ä¿¡æ¯ç³»ç»Ÿä¸ç¤¾ä¼š</a>
      <ul>
        <li><a href="#å¿…ä¿®2-ç¬¬ä¸€ç« ">å¿…ä¿®2 ç¬¬ä¸€ç« </a></li>
        <li><a href="#å¿…ä¿®2-ç¬¬äºŒç« ">å¿…ä¿®2 ç¬¬äºŒç« </a>
          <ul>
            <li><a href="#24-å®è·µä¸ä½“éªŒ">2.4 å®è·µä¸ä½“éªŒ</a></li>
            <li><a href="#243-ä¼ æ„Ÿå™¨ä¿¡æ¯çš„è·å–">2.4.3 ä¼ æ„Ÿå™¨ä¿¡æ¯çš„è·å–</a></li>
            <li><a href="#263-ç¼–å†™ç½‘ç»œåº”ç”¨ç¨‹åº">2.6.3 ç¼–å†™ç½‘ç»œåº”ç”¨ç¨‹åº</a></li>
            <li><a href="#264-è°ƒè¯•å‘å¸ƒ">2.6.4 è°ƒè¯•å‘å¸ƒ</a></li>
          </ul>
        </li>
        <li><a href="#å¿…ä¿®2-ç¬¬ä¸‰ç« ">å¿…ä¿®2 ç¬¬ä¸‰ç« </a>
          <ul>
            <li><a href="#32--å‡¯æ’’å¯†ç åŠ è§£å¯†">3.2  å‡¯æ’’å¯†ç åŠ è§£å¯†</a></li>
            <li><a href="#32--å·©å›ºä¸æé«˜--ç®€å•å¼‚æˆ–">3.2  å·©å›ºä¸æé«˜  ç®€å•å¼‚æˆ–</a></li>
            <li><a href="#32--æ€è€ƒä¸ç»ƒä¹ --æ¢ä½å¯†ç ">3.2  æ€è€ƒä¸ç»ƒä¹   æ¢ä½å¯†ç </a></li>
          </ul>
        </li>
        <li><a href="#å¿…ä¿®2-ç¬¬å››ç« ">å¿…ä¿®2 ç¬¬å››ç« </a>
          <ul>
            <li><a href="#get_jsoné¡¹ç›®æŒ‘æˆ˜-æ•°æ®å¯è§†åŒ–">get_jsonï¼ˆé¡¹ç›®æŒ‘æˆ˜-æ•°æ®å¯è§†åŒ–ï¼‰</a></li>
            <li><a href="#iot-microbitdh11">iot-microbitï¼ˆdh11ï¼‰</a></li>
            <li><a href="#iot-microbitdh11-å®Œæ•´-æç¤ºéŸ³">iot-microbitï¼ˆdh11-å®Œæ•´-æç¤ºéŸ³ï¼‰</a></li>
            <li><a href="#iot-microbitdh11-å®Œæ•´-è¯­éŸ³">iot-microbitï¼ˆdh11-å®Œæ•´-è¯­éŸ³ï¼‰</a></li>
            <li><a href="#iot-microbitlm35">iot-microbitï¼ˆlm35ï¼‰</a></li>
            <li><a href="#iot-microbitè‡ªå¸¦æ¸©åº¦">iot-microbitï¼ˆè‡ªå¸¦æ¸©åº¦ï¼‰</a></li>
          </ul>
        </li>
      </ul>
    </li>
    <li><a href="#é€‰æ‹©æ€§å¿…ä¿®1-æ•°æ®ä¸æ•°æ®ç»“æ„">é€‰æ‹©æ€§å¿…ä¿®1 æ•°æ®ä¸æ•°æ®ç»“æ„</a>
      <ul>
        <li><a href="#31-è¡Œç¨‹ç¼–ç ">3.1 è¡Œç¨‹ç¼–ç </a></li>
        <li><a href="#31-é¢œè‰²ç¼–å·">3.1 é¢œè‰²ç¼–å·</a></li>
        <li><a href="#äº”å­æ£‹">äº”å­æ£‹</a></li>
        <li><a href="#ç¬¬ä¸‰ç« -å·©å›ºä¸æé«˜-è½¯ç¡¬è½¦å¢">ç¬¬ä¸‰ç«  å·©å›ºä¸æé«˜ è½¯ç¡¬è½¦å¢</a></li>
        <li><a href="#ç¬¬ä¸‰ç« -å·©å›ºä¸æé«˜-é¤é¦†å–å·å«å·">ç¬¬ä¸‰ç«  å·©å›ºä¸æé«˜ é¤é¦†å–å·å«å·</a></li>
      </ul>
    </li>
  </ul>
</nav>
			</div>
			<h1 id="å¿…ä¿®1--æ•°æ®ä¸è®¡ç®—">å¿…ä¿®1  æ•°æ®ä¸è®¡ç®—</h1>
<h2 id="å¿…ä¿®1-ç¬¬ä¸€ç« -ç´ æ">å¿…ä¿®1 ç¬¬ä¸€ç«  ç´ æ</h2>
<h2 id="å¿…ä¿®1-ç¬¬äºŒç« -ç´ æ">å¿…ä¿®1 ç¬¬äºŒç«  ç´ æ</h2>
<h2 id="å¿…ä¿®1-ç¬¬ä¸‰ç« -ç´ æ">å¿…ä¿®1 ç¬¬ä¸‰ç«  ç´ æ</h2>
<h3 id="31-ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€èˆ¬è¿‡ç¨‹">3.1 ç”¨è®¡ç®—æœºè§£å†³é—®é¢˜çš„ä¸€èˆ¬è¿‡ç¨‹</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> turtle
</span></span><span style="display:flex;"><span>n<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥æ­£å¤šè¾¹å½¢çš„è¾¹æ•°nï¼š&#34;</span>))
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥è¾¹é•¿aï¼š&#34;</span>))
</span></span><span style="display:flex;"><span>d<span style="color:#f92672">=</span>(n<span style="color:#f92672">-</span><span style="color:#ae81ff">2</span>)<span style="color:#f92672">*</span><span style="color:#ae81ff">180</span><span style="color:#f92672">/</span>n
</span></span><span style="display:flex;"><span>t<span style="color:#f92672">=</span>turtle<span style="color:#f92672">.</span>Pen()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):          <span style="color:#75715e">#é‡å¤æ‰§è¡Œné</span>
</span></span><span style="display:flex;"><span>    t<span style="color:#f92672">.</span>forward(a)            <span style="color:#75715e">#å‘å‰ç»˜åˆ¶é•¿åº¦ä¸ºaçš„çº¿æ®µ</span>
</span></span><span style="display:flex;"><span>    t<span style="color:#f92672">.</span>left(<span style="color:#ae81ff">180</span><span style="color:#f92672">-</span>d)           <span style="color:#75715e">#å‘å·¦æ—‹è½¬ï¼ˆ180-dï¼‰åº¦</span>
</span></span></code></pre></div><h3 id="32-pythonè¯­è¨€ç¨‹åºè®¾è®¡">3.2 Pythonè¯­è¨€ç¨‹åºè®¾è®¡</h3>
<h4 id="32-å®è·µä¸ä½“éªŒç¼–ç¨‹å®ç°å›¾åƒçš„ç®€å•å¤„ç†">3.2 å®è·µä¸ä½“éªŒâ€”â€”ç¼–ç¨‹å®ç°å›¾åƒçš„ç®€å•å¤„ç†</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> numpy <span style="color:#66d9ef">as</span> np
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>img<span style="color:#f92672">=</span>np<span style="color:#f92672">.</span>array(Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#39;lena.jpg&#39;</span>)<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;L&#39;</span>))
</span></span><span style="display:flex;"><span>rows,cols<span style="color:#f92672">=</span>img<span style="color:#f92672">.</span>shape
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(rows):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(cols):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (img[i,j]<span style="color:#f92672">&lt;=</span><span style="color:#ae81ff">128</span>):
</span></span><span style="display:flex;"><span>            img[i,j]<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            img[i,j]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>figure(<span style="color:#e6db74">&#34;lena &#34;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>imshow(img,cmap<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;gray&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>axis(<span style="color:#e6db74">&#39;off&#39;</span>)
</span></span><span style="display:flex;"><span>plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><h3 id="33-ç®€å•ç®—æ³•åŠå…¶ç¨‹åºå®ç°">3.3 ç®€å•ç®—æ³•åŠå…¶ç¨‹åºå®ç°</h3>
<h4 id="33-å®è·µä¸ä½“éªŒå›¾åƒå­—ç¬¦ç”»">3.3 å®è·µä¸ä½“éªŒâ€”â€”å›¾åƒå­—ç¬¦ç”»</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span>serarr<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;@&#39;</span>,<span style="color:#e6db74">&#39;#&#39;</span>,<span style="color:#e6db74">&#39;$&#39;</span>,<span style="color:#e6db74">&#39;%&#39;</span>,<span style="color:#e6db74">&#39;&amp;&#39;</span>,<span style="color:#e6db74">&#39;?&#39;</span>,<span style="color:#e6db74">&#39;*&#39;</span>,<span style="color:#e6db74">&#39;o&#39;</span>,<span style="color:#e6db74">&#39;/&#39;</span>,<span style="color:#e6db74">&#39;{&#39;</span>,<span style="color:#e6db74">&#39;[&#39;</span>,<span style="color:#e6db74">&#39;(&#39;</span>,<span style="color:#e6db74">&#39;|&#39;</span>,<span style="color:#e6db74">&#39;!&#39;</span>,<span style="color:#e6db74">&#39;^&#39;</span>,<span style="color:#e6db74">&#39;~&#39;</span>,<span style="color:#e6db74">&#39;-&#39;</span>,<span style="color:#e6db74">&#39;_&#39;</span>,<span style="color:#e6db74">&#39;:&#39;</span>,<span style="color:#e6db74">&#39;;&#39;</span>,<span style="color:#e6db74">&#39;,&#39;</span>,<span style="color:#e6db74">&#39;.&#39;</span>,<span style="color:#e6db74">&#39;`&#39;</span>,<span style="color:#e6db74">&#39; &#39;</span>]
</span></span><span style="display:flex;"><span>count<span style="color:#f92672">=</span>len(serarr)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">toText</span>(image_file):
</span></span><span style="display:flex;"><span>   asd <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>                                      <span style="color:#75715e"># å‚¨å­˜å­—ç¬¦ä¸²</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">for</span> h <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>,  image_file<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">1</span>]):      <span style="color:#75715e"># å‚ç›´æ–¹å‘</span>
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">for</span> w <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>, image_file<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">0</span>]):    <span style="color:#75715e"># æ°´å¹³æ–¹å‘</span>
</span></span><span style="display:flex;"><span>         r,g,b <span style="color:#f92672">=</span>image_file<span style="color:#f92672">.</span>getpixel((w,h))
</span></span><span style="display:flex;"><span>         gray <span style="color:#f92672">=</span>int(r<span style="color:#f92672">*</span> <span style="color:#ae81ff">0.299</span><span style="color:#f92672">+</span>g<span style="color:#f92672">*</span> <span style="color:#ae81ff">0.587</span><span style="color:#f92672">+</span>b<span style="color:#f92672">*</span> <span style="color:#ae81ff">0.114</span>)
</span></span><span style="display:flex;"><span>         asd<span style="color:#f92672">=</span>asd<span style="color:#f92672">+</span>serarr[int(gray<span style="color:#f92672">/</span>(<span style="color:#ae81ff">255</span><span style="color:#f92672">/</span>(count<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)))]
</span></span><span style="display:flex;"><span>      asd<span style="color:#f92672">=</span>asd<span style="color:#f92672">+</span><span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\r\n</span><span style="color:#e6db74">&#39;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">return</span> asd
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>image_file <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;boy.jpg&#34;</span>)              <span style="color:#75715e"># æ‰“å¼€å›¾ç‰‡</span>
</span></span><span style="display:flex;"><span>image_file<span style="color:#f92672">=</span>image_file<span style="color:#f92672">.</span>resize((int(image_file<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">0</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">0.9</span>), int(image_file<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">0.5</span>)))   <span style="color:#75715e">#è°ƒæ•´å›¾ç‰‡å¤§å°</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>tmp<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#39;boy.txt&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>)
</span></span><span style="display:flex;"><span>tmp<span style="color:#f92672">.</span>write(toText(image_file))
</span></span><span style="display:flex;"><span>tmp<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h4 id="ä½¿ç”¨imageæ¨¡å—å®ç°å¡«æ¶‚åˆ¤æ–­">ä½¿ç”¨Imageæ¨¡å—å®ç°å¡«æ¶‚åˆ¤æ–­</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bw_judge</span>(R,G,B):
</span></span><span style="display:flex;"><span>    Gray_scale<span style="color:#f92672">=</span><span style="color:#ae81ff">0.299</span><span style="color:#f92672">*</span>R<span style="color:#f92672">+</span><span style="color:#ae81ff">0.587</span><span style="color:#f92672">*</span>G<span style="color:#f92672">+</span><span style="color:#ae81ff">0.114</span><span style="color:#f92672">*</span>B
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> Gray_scale<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">132</span>:
</span></span><span style="display:flex;"><span>        color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;é»‘è‰²&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        color<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ç™½è‰²&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> color
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span>im <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;RGB.bmp&#34;</span>)
</span></span><span style="display:flex;"><span>pix <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>load()
</span></span><span style="display:flex;"><span>width <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">0</span>]                        <span style="color:#75715e"># sizeä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬1ä¸ªå‚æ•°ä¸ºå›¾åƒå®½åº¦å€¼</span>
</span></span><span style="display:flex;"><span>height <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">1</span>]                       <span style="color:#75715e"># ç¬¬2ä¸ªå‚æ•°ä¸ºå›¾åƒé«˜åº¦å€¼</span>
</span></span><span style="display:flex;"><span>count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(width):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(height):
</span></span><span style="display:flex;"><span>        R,G,B <span style="color:#f92672">=</span> pix[x, y]                 <span style="color:#75715e"># æ ¹æ®åƒç´ åæ ‡è·å¾—è¯¥ç‚¹çš„ RGB å€¼</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> bw_judge(R,G,B)<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;é»‘è‰²&#34;</span>:       <span style="color:#75715e"># bw_ judgeå‡½æ•°ç”¨äºåˆ¤æ–­é»‘ã€ç™½åƒç´ </span>
</span></span><span style="display:flex;"><span>            count<span style="color:#f92672">=</span>count<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> count<span style="color:#f92672">&gt;=</span>width<span style="color:#f92672">*</span>height<span style="color:#f92672">*</span><span style="color:#ae81ff">0.64</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;å·²å¡«æ¶‚ï¼&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;æœªå¡«æ¶‚ï¼&#34;</span>)
</span></span></code></pre></div><h4 id="å‡†è€ƒè¯å·å¡«æ¶‚è¯†åˆ«">å‡†è€ƒè¯å·å¡«æ¶‚è¯†åˆ«</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span>x_start <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>               <span style="color:#75715e"># èµ·å§‹ç‚¹åæ ‡</span>
</span></span><span style="display:flex;"><span>y_start <span style="color:#f92672">=</span> <span style="color:#ae81ff">92</span>
</span></span><span style="display:flex;"><span>fill_width   <span style="color:#f92672">=</span> <span style="color:#ae81ff">24</span>          <span style="color:#75715e"># ä¿¡æ¯ç‚¹å®½åº¦</span>
</span></span><span style="display:flex;"><span>fill_height  <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>          <span style="color:#75715e"># ä¿¡æ¯ç‚¹é«˜åº¦</span>
</span></span><span style="display:flex;"><span>space_width  <span style="color:#f92672">=</span> <span style="color:#ae81ff">16</span>          <span style="color:#75715e"># é—´éš”å®½åº¦</span>
</span></span><span style="display:flex;"><span>space_height <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>          <span style="color:#75715e"># é—´éš”é«˜åº¦</span>
</span></span><span style="display:flex;"><span>num_length <span style="color:#f92672">=</span> <span style="color:#ae81ff">9</span>             <span style="color:#75715e"># å‡†è€ƒè¯å·é•¿åº¦</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bw_judge</span>(R, G, B):     <span style="color:#75715e"># bw_judgeç”¨äºåˆ¤æ–­ä¸€ä¸ªåƒç´ çš„å¡«æ¶‚æƒ…å†µ</span>
</span></span><span style="display:flex;"><span>    Gray_scale <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.299</span> <span style="color:#f92672">*</span> R <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.587</span> <span style="color:#f92672">*</span> G <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.114</span> <span style="color:#f92672">*</span> B
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> Gray_scale <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">132</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fill_judge</span>(x, y):      <span style="color:#75715e"># fill_judgeç”¨äºåˆ¤æ–­ä¿¡æ¯ç‚¹çš„å¡«æ¶‚æƒ…å†µ</span>
</span></span><span style="display:flex;"><span>    count <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(x, x <span style="color:#f92672">+</span> fill_width <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(y, y <span style="color:#f92672">+</span> fill_height <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            R, G, B <span style="color:#f92672">=</span> pixels[i, j]
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> bw_judge(R, G, B) <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>                count <span style="color:#f92672">=</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> count <span style="color:#f92672">&gt;=</span> fill_width <span style="color:#f92672">*</span> fill_height <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.64</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>total_width  <span style="color:#f92672">=</span> fill_width <span style="color:#f92672">+</span> space_width
</span></span><span style="display:flex;"><span>total_height <span style="color:#f92672">=</span> fill_height <span style="color:#f92672">+</span> space_height
</span></span><span style="display:flex;"><span>image <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(<span style="color:#e6db74">&#34;fill.bmp&#34;</span>)
</span></span><span style="display:flex;"><span>pixels <span style="color:#f92672">=</span> image<span style="color:#f92672">.</span>load()
</span></span><span style="display:flex;"><span>number <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> col <span style="color:#f92672">in</span> range(num_length):         <span style="color:#75715e"># xä»å·¦è‡³å³ï¼Œyä»ä¸Šè‡³ä¸‹å¯¹å¡«æ¶‚åŒºè¿›è¡Œæ£€æµ‹</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> row <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">10</span>):
</span></span><span style="display:flex;"><span>        x <span style="color:#f92672">=</span> x_start <span style="color:#f92672">+</span> total_width  <span style="color:#f92672">*</span> col
</span></span><span style="display:flex;"><span>        y <span style="color:#f92672">=</span> y_start <span style="color:#f92672">+</span> total_height <span style="color:#f92672">*</span> row
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> fill_judge(x, y) <span style="color:#f92672">==</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>            number <span style="color:#f92672">=</span> number <span style="color:#f92672">+</span> str(row)
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">break</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:                            <span style="color:#75715e"># 10ä¸ªä¿¡æ¯ç‚¹æ£€æµ‹å®Œæ¯•åæœªå‘ç°æœ‰å¡«æ¶‚</span>
</span></span><span style="display:flex;"><span>        number <span style="color:#f92672">=</span> number <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;#&#39;</span>
</span></span><span style="display:flex;"><span>print(number)
</span></span></code></pre></div><h4 id="åˆ¤å®šé»‘ç™½åƒç´ ">åˆ¤å®šé»‘ç™½åƒç´ </h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>R<span style="color:#f92672">=</span><span style="color:#ae81ff">43</span>
</span></span><span style="display:flex;"><span>G<span style="color:#f92672">=</span><span style="color:#ae81ff">10</span>
</span></span><span style="display:flex;"><span>B<span style="color:#f92672">=</span><span style="color:#ae81ff">241</span>
</span></span><span style="display:flex;"><span>Gray_scale<span style="color:#f92672">=</span><span style="color:#ae81ff">0.299</span><span style="color:#f92672">*</span>R<span style="color:#f92672">+</span><span style="color:#ae81ff">0.587</span><span style="color:#f92672">*</span>G<span style="color:#f92672">+</span><span style="color:#ae81ff">0.114</span><span style="color:#f92672">*</span>B
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> Gray_scale<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">132</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;é»‘è‰²&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#39;ç™½è‰²&#39;</span>)
</span></span></code></pre></div><h4 id="ç»Ÿè®¡5ä¸ªåƒç´ ä¸­çš„é»‘è‰²åƒç´ ä¸ªæ•°">ç»Ÿè®¡5ä¸ªåƒç´ ä¸­çš„é»‘è‰²åƒç´ ä¸ªæ•°</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>Gray_scale<span style="color:#f92672">=</span>[<span style="color:#ae81ff">47</span>,<span style="color:#ae81ff">178</span>,<span style="color:#ae81ff">146</span>,<span style="color:#ae81ff">185</span>,<span style="color:#ae81ff">116</span>]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(<span style="color:#ae81ff">0</span>,len(Gray_scale)):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> Gray_scale[i]<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">132</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;ç¬¬&#34;</span><span style="color:#f92672">+</span>str(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;ä¸ªåƒç´ ä¸ºé»‘è‰²ï¼›&#34;</span>)
</span></span><span style="display:flex;"><span>        count<span style="color:#f92672">=</span>count<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;é»‘è‰²åƒç´ æ€»å…±æœ‰ï¼š&#34;</span><span style="color:#f92672">+</span>str(count)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;ä¸ªã€‚&#34;</span>)
</span></span></code></pre></div><h4 id="è¯»å–æ–‡ä»¶æ•°æ®å®ç°å¡«æ¶‚åˆ¤æ–­">è¯»å–æ–‡ä»¶æ•°æ®å®ç°å¡«æ¶‚åˆ¤æ–­</h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>fname <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#39;Your text file name here: &#39;</span>)
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(fname,<span style="color:#e6db74">&#39;r+&#39;</span>)           <span style="color:#75715e"># ä»¥è¯»å†™çš„æ–¹å¼æ‰“å¼€æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>line <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>readline()            <span style="color:#75715e"># ä»æ–‡ä»¶ä¸­è¯»å–ä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> line:                    <span style="color:#75715e"># å½“lineéç©ºï¼ˆä»æ–‡ä»¶è¯»å–åˆ°äº†æ•°æ®ï¼‰</span>
</span></span><span style="display:flex;"><span>    line <span style="color:#f92672">=</span> line<span style="color:#f92672">.</span>split()        <span style="color:#75715e"># æŠŠç©ºç™½å­—ç¬¦å»é™¤ï¼Œå˜æˆåŒ…å«ä¸‰ä¸ªstrçš„list</span>
</span></span><span style="display:flex;"><span>    R, G, B <span style="color:#f92672">=</span> map(int, line)   <span style="color:#75715e"># æŠŠlineä¸­ä¸‰ä¸ªstrè½¬åŒ–æˆintå¹¶èµ‹å€¼ç»™R, G, B</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> <span style="color:#ae81ff">0.299</span> <span style="color:#f92672">*</span> R <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.587</span> <span style="color:#f92672">*</span> G <span style="color:#f92672">+</span> <span style="color:#ae81ff">0.144</span> <span style="color:#f92672">*</span> B <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">132</span>:
</span></span><span style="display:flex;"><span>        count <span style="color:#f92672">=</span> count <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    line <span style="color:#f92672">=</span> f<span style="color:#f92672">.</span>readline()        <span style="color:#75715e"># ç»§ç»­è¯»å–ä¸€è¡Œ</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> count <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">300</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">0.64</span>:
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">å·²å¡«æ¶‚ï¼&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    f<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">æœªå¡«æ¶‚ï¼&#34;</span>)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h2 id="å¿…ä¿®1-ç¬¬å››ç« -ç´ æ">å¿…ä¿®1 ç¬¬å››ç«  ç´ æ</h2>
<h3 id="42-èº«è¾¹çš„ç™¾å®¶å§“">4.2 èº«è¾¹çš„ç™¾å®¶å§“</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># -*- coding: utf-8 -*-</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#75715e">#import numpy  as np</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ˜¾ç¤ºä¸­æ–‡å­—ä½“å¤„ç†éœ€è¦</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> matplotlib.font_manager <span style="color:#f92672">import</span> FontProperties
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># è¯»æ–‡ä»¶</span>
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;names.csv&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¢åŠ 2åˆ—ï¼Œå­˜æ”¾ å§“ã€å</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;xing&#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;ming&#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å®šä¹‰å¤å§“ list</span>
</span></span><span style="display:flex;"><span>fx<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;æ¬§é˜³&#39;</span>,<span style="color:#e6db74">&#39;å¤ªå²&#39;</span>,<span style="color:#e6db74">&#39;ç«¯æœ¨&#39;</span>,<span style="color:#e6db74">&#39;ä¸Šå®˜&#39;</span>,<span style="color:#e6db74">&#39;å¸é©¬&#39;</span>,<span style="color:#e6db74">&#39;ä¸œæ–¹&#39;</span>,<span style="color:#e6db74">&#39;ç‹¬å­¤&#39;</span>,<span style="color:#e6db74">&#39;å—å®«&#39;</span>,<span style="color:#e6db74">&#39;ä¸‡ä¿Ÿ&#39;</span>,<span style="color:#e6db74">&#39;é—»äºº&#39;</span>,<span style="color:#e6db74">&#39;å¤ä¾¯&#39;</span>,<span style="color:#e6db74">&#39;è¯¸è‘›&#39;</span>,<span style="color:#e6db74">&#39;å°‰è¿Ÿ&#39;</span>,<span style="color:#e6db74">&#39;å…¬ç¾Š&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;èµ«è¿&#39;</span>,<span style="color:#e6db74">&#39;æ¾¹å°&#39;</span>,<span style="color:#e6db74">&#39;çš‡ç”«&#39;</span>,<span style="color:#e6db74">&#39;å®—æ”¿&#39;</span>,<span style="color:#e6db74">&#39;æ¿®é˜³&#39;</span>,<span style="color:#e6db74">&#39;å…¬å†¶&#39;</span>,<span style="color:#e6db74">&#39;å¤ªå”&#39;</span>,<span style="color:#e6db74">&#39;ç”³å± &#39;</span>,<span style="color:#e6db74">&#39;å…¬å­™&#39;</span>,<span style="color:#e6db74">&#39;æ…•å®¹&#39;</span>,<span style="color:#e6db74">&#39;ä»²å­™&#39;</span>,<span style="color:#e6db74">&#39;é’Ÿç¦»&#39;</span>,<span style="color:#e6db74">&#39;é•¿å­™&#39;</span>,<span style="color:#e6db74">&#39;å®‡æ–‡&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;å¸å¾’&#39;</span>,<span style="color:#e6db74">&#39;é²œäº&#39;</span>,<span style="color:#e6db74">&#39;å¸ç©º&#39;</span>,<span style="color:#e6db74">&#39;é—¾ä¸˜&#39;</span>,<span style="color:#e6db74">&#39;å­è½¦&#39;</span>,<span style="color:#e6db74">&#39;äº“å®˜&#39;</span>,<span style="color:#e6db74">&#39;å¸å¯‡&#39;</span>,<span style="color:#e6db74">&#39;å·«é©¬&#39;</span>,<span style="color:#e6db74">&#39;å…¬è¥¿&#39;</span>,<span style="color:#e6db74">&#39;é¢›å­™&#39;</span>,<span style="color:#e6db74">&#39;å£¤é©·&#39;</span>,<span style="color:#e6db74">&#39;å…¬è‰¯&#39;</span>,<span style="color:#e6db74">&#39;æ¼†é›•&#39;</span>,<span style="color:#e6db74">&#39;ä¹æ­£&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;å®°çˆ¶&#39;</span>,<span style="color:#e6db74">&#39;è°·æ¢&#39;</span>,<span style="color:#e6db74">&#39;æ‹“è·‹&#39;</span>,<span style="color:#e6db74">&#39;å¤¹è°·&#39;</span>,<span style="color:#e6db74">&#39;è½©è¾•&#39;</span>,<span style="color:#e6db74">&#39;ä»¤ç‹&#39;</span>,<span style="color:#e6db74">&#39;æ®µå¹²&#39;</span>,<span style="color:#e6db74">&#39;ç™¾é‡Œ&#39;</span>,<span style="color:#e6db74">&#39;å‘¼å»¶&#39;</span>,<span style="color:#e6db74">&#39;ä¸œéƒ­&#39;</span>,<span style="color:#e6db74">&#39;å—é—¨&#39;</span>,<span style="color:#e6db74">&#39;ç¾ŠèˆŒ&#39;</span>,<span style="color:#e6db74">&#39;å¾®ç”Ÿ&#39;</span>,<span style="color:#e6db74">&#39;å…¬æˆ·&#39;</span>,
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#39;å…¬ç‰&#39;</span>,<span style="color:#e6db74">&#39;å…¬ä»ª&#39;</span>,<span style="color:#e6db74">&#39;æ¢ä¸˜&#39;</span>,<span style="color:#e6db74">&#39;å…¬ä»²&#39;</span>,<span style="color:#e6db74">&#39;å…¬ä¸Š&#39;</span>,<span style="color:#e6db74">&#39;å…¬é—¨&#39;</span>,<span style="color:#e6db74">&#39;å…¬å±±&#39;</span>,<span style="color:#e6db74">&#39;å…¬åš&#39;</span>,<span style="color:#e6db74">&#39;å·¦ä¸˜&#39;</span>,<span style="color:#e6db74">&#39;å…¬ä¼¯&#39;</span>,<span style="color:#e6db74">&#39;è¥¿é—¨&#39;</span>,<span style="color:#e6db74">&#39;å…¬ç¥–&#39;</span>,<span style="color:#e6db74">&#39;ç¬¬äº”&#39;</span>,<span style="color:#e6db74">&#39;å…¬ä¹˜&#39;</span>
</span></span><span style="display:flex;"><span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å–å§“ã€å</span>
</span></span><span style="display:flex;"><span>j<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> df[<span style="color:#e6db74">&#39;xm&#39;</span>]:
</span></span><span style="display:flex;"><span>    <span style="color:#75715e"># ä¸æ˜¯å¤å§“</span>
</span></span><span style="display:flex;"><span>    df[<span style="color:#e6db74">&#39;xing&#39;</span>][j]<span style="color:#f92672">=</span>i[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">1</span>]
</span></span><span style="display:flex;"><span>    df[<span style="color:#e6db74">&#39;ming&#39;</span>][j]<span style="color:#f92672">=</span>i[<span style="color:#ae81ff">1</span>:]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#å¤å§“å¤„ç†</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> i[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>] <span style="color:#f92672">in</span> fx:
</span></span><span style="display:flex;"><span>        df[<span style="color:#e6db74">&#39;xing&#39;</span>][j]<span style="color:#f92672">=</span>i[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">2</span>]
</span></span><span style="display:flex;"><span>        df[<span style="color:#e6db74">&#39;ming&#39;</span>][j]<span style="color:#f92672">=</span>i[<span style="color:#ae81ff">2</span>:]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    j<span style="color:#f92672">=</span>j<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># åˆ†ç»„è®¡æ•°</span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">=</span> df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;xing&#39;</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># sort æ’åº   ç»“æœ</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#s=s.sort(&#39;xm&#39;)</span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">=</span>s<span style="color:#f92672">.</span>sort_values(<span style="color:#e6db74">&#39;xm&#39;</span>,ascending<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å‰20ç»˜å›¾</span>
</span></span><span style="display:flex;"><span>ax<span style="color:#f92672">=</span>s[<span style="color:#ae81ff">0</span>:<span style="color:#ae81ff">20</span>]<span style="color:#f92672">.</span>plot(kind<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;bar&#39;</span>,rot<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ˜¾ç¤ºä¸­æ–‡æ ‡ç­¾</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#font = FontProperties(fname=r&#34;c:\windows\fonts\simsun.ttc&#34;, size=14)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#for label in ax.get_xticklabels() :</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    label.set_fontproperties(font)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æ˜¾ç¤ºå›¾å½¢</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#plt.show()</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">.</span>bar
</span></span></code></pre></div><h3 id="42-å®è·µä¸ä½“éªŒ-ä¸­æ–‡åˆ†è¯ä¸æ ‡ç­¾äº‘">4.2 å®è·µä¸ä½“éªŒ ä¸­æ–‡åˆ†è¯ä¸æ ‡ç­¾äº‘</h3>
<h3 id="å·©å›ºæé«˜-4é€‰è¯¾python">å·©å›ºæé«˜ 4.é€‰è¯¾python</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e"># -*- coding: utf-8 -*-</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">@author: hehy 7é€‰3ç»Ÿè®¡
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> itertools
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è¯»æ•°æ®åˆ° Pandasçš„DataFrame ç»“æ„ä¸­</span>
</span></span><span style="display:flex;"><span>df<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#34;xk73.csv&#34;</span>,sep<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;,&#39;</span>,header<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;infer&#39;</span>,encoding<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span>km<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;ç‰©ç†&#39;</span>,<span style="color:#e6db74">&#39;åŒ–å­¦&#39;</span>,<span style="color:#e6db74">&#39;ç”Ÿç‰©&#39;</span>,<span style="color:#e6db74">&#39;æ”¿æ²»&#39;</span>,<span style="color:#e6db74">&#39;å†å²&#39;</span>,<span style="color:#e6db74">&#39;åœ°ç†&#39;</span>,<span style="color:#e6db74">&#39;æŠ€æœ¯&#39;</span>]
</span></span><span style="display:flex;"><span>zrs<span style="color:#f92672">=</span>len(df<span style="color:#f92672">.</span>index)   <span style="color:#75715e">#æ€»äººæ•°</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#æŒ‰å­¦æ ¡åˆ†ç»„è®¡æ•°</span>
</span></span><span style="display:flex;"><span>sc<span style="color:#f92672">=</span>df<span style="color:#f92672">.</span>groupby(<span style="color:#e6db74">&#39;å­¦æ ¡ä»£ç &#39;</span>,as_index<span style="color:#f92672">=</span><span style="color:#66d9ef">False</span>)<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¯¹åˆ†ç»„è®¡æ•°ç»“æœè¿›è¡Œåˆè®¡ï¼Œåˆè®¡ç»“æœè½¬æ¢ä¸ºDFç»“æ„å¹¶è½¬ç½®ä¸ºè¡Œ</span>
</span></span><span style="display:flex;"><span>df_sum<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>DataFrame(data<span style="color:#f92672">=</span>sc<span style="color:#f92672">.</span>sum())<span style="color:#f92672">.</span>T
</span></span><span style="display:flex;"><span>df_sum[<span style="color:#e6db74">&#39;å­¦æ ¡ä»£ç &#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;åˆè®¡&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¢åŠ â€œåˆè®¡&#34;è¡Œ</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> sc<span style="color:#f92672">.</span>append(df_sum)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># ç™¾åˆ†æ¯”è®¡ç®—</span>
</span></span><span style="display:flex;"><span>df_percent <span style="color:#f92672">=</span> df_sum
</span></span><span style="display:flex;"><span>df_percent[<span style="color:#e6db74">&#39;å­¦æ ¡ä»£ç &#39;</span>]<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;æ¯”ä¾‹&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> k <span style="color:#f92672">in</span> km:
</span></span><span style="display:flex;"><span>    per <span style="color:#f92672">=</span> df_percent<span style="color:#f92672">.</span>at[<span style="color:#ae81ff">0</span>,k]<span style="color:#f92672">/</span>zrs
</span></span><span style="display:flex;"><span>    df_percent[k]<span style="color:#f92672">=</span>per
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># å¢åŠ â€œç™¾åˆ†æ¯”â€è¡Œ</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> result<span style="color:#f92672">.</span>append(df_percent)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">#åˆ é™¤â€œå§“åâ€åˆ—</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span>result<span style="color:#f92672">.</span>drop(<span style="color:#e6db74">&#39;å§“å&#39;</span>,axis<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä¿®æ”¹â€œå­¦ç”Ÿç¼–å·â€ä¸ºâ€œæ€»äººæ•°â€</span>
</span></span><span style="display:flex;"><span>result <span style="color:#f92672">=</span> result<span style="color:#f92672">.</span>rename(columns<span style="color:#f92672">=</span>{<span style="color:#e6db74">&#39;å­¦ç”Ÿç¼–å·&#39;</span>:<span style="color:#e6db74">&#39;æ€»äººæ•°&#39;</span>})
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä¿å­˜ç»“æœ</span>
</span></span><span style="display:flex;"><span>result<span style="color:#f92672">.</span>to_excel(<span style="color:#e6db74">&#34;å­¦æ ¡äººæ•°ç»Ÿè®¡.xlsx&#34;</span>)
</span></span></code></pre></div><h2 id="å¿…ä¿®1-ç¬¬äº”ç« -ç´ æ">å¿…ä¿®1 ç¬¬äº”ç«  ç´ æ</h2>
<h1 id="å¿…ä¿®2--ä¿¡æ¯ç³»ç»Ÿä¸ç¤¾ä¼š">å¿…ä¿®2  ä¿¡æ¯ç³»ç»Ÿä¸ç¤¾ä¼š</h1>
<h2 id="å¿…ä¿®2-ç¬¬ä¸€ç« ">å¿…ä¿®2 ç¬¬ä¸€ç« </h2>
<h2 id="å¿…ä¿®2-ç¬¬äºŒç« ">å¿…ä¿®2 ç¬¬äºŒç« </h2>
<h3 id="24-å®è·µä¸ä½“éªŒ">2.4 å®è·µä¸ä½“éªŒ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> uart<span style="color:#f92672">.</span>any():
</span></span><span style="display:flex;"><span>        incoming <span style="color:#f92672">=</span> str(uart<span style="color:#f92672">.</span>readall(), <span style="color:#e6db74">&#34;UTF-8&#34;</span>)
</span></span><span style="display:flex;"><span>        incoming<span style="color:#f92672">=</span>incoming<span style="color:#f92672">.</span>strip(<span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">&#39;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> incoming<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;H&#39;</span>:
</span></span><span style="display:flex;"><span>            display<span style="color:#f92672">.</span>show(Image<span style="color:#f92672">.</span>HAPPY)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;I am happy&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> incoming<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;S&#39;</span>:
</span></span><span style="display:flex;"><span>            display<span style="color:#f92672">.</span>show(Image<span style="color:#f92672">.</span>SAD)
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;I am sad&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;err&#34;</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> serial
</span></span><span style="display:flex;"><span>ser <span style="color:#f92672">=</span> serial<span style="color:#f92672">.</span>Serial()
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>baudrate <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>port <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;COM3&#39;</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>open()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> serial<span style="color:#f92672">,</span>time
</span></span><span style="display:flex;"><span>ser <span style="color:#f92672">=</span> serial<span style="color:#f92672">.</span>Serial()
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>baudrate <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>port <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;COM3&#39;</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>open()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    ser<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;H&#39;</span><span style="color:#f92672">.</span>encode())
</span></span><span style="display:flex;"><span>    time<span style="color:#f92672">.</span>sleep(<span style="color:#ae81ff">1</span>)
</span></span><span style="display:flex;"><span>    ser<span style="color:#f92672">.</span>write(<span style="color:#e6db74">&#39;S&#39;</span><span style="color:#f92672">.</span>encode())
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> serial<span style="color:#f92672">,</span>time
</span></span><span style="display:flex;"><span>ser <span style="color:#f92672">=</span> serial<span style="color:#f92672">.</span>Serial()
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>baudrate <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>port <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;COM3&#39;</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>open()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    name<span style="color:#f92672">=</span>input()
</span></span><span style="display:flex;"><span>    ser<span style="color:#f92672">.</span>write(name<span style="color:#f92672">.</span>encode())
</span></span><span style="display:flex;"><span>    line <span style="color:#f92672">=</span> ser<span style="color:#f92672">.</span>readline()
</span></span><span style="display:flex;"><span>    print(line<span style="color:#f92672">.</span>strip()<span style="color:#f92672">.</span>decode())
</span></span></code></pre></div><h3 id="243-ä¼ æ„Ÿå™¨ä¿¡æ¯çš„è·å–">2.4.3 ä¼ æ„Ÿå™¨ä¿¡æ¯çš„è·å–</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    print(temperature())
</span></span><span style="display:flex;"><span>    sleep(<span style="color:#ae81ff">200</span>)
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> serial
</span></span><span style="display:flex;"><span>ser <span style="color:#f92672">=</span> serial<span style="color:#f92672">.</span>Serial()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¾ç½®é€šè®¯æ³¢ç‰¹ç‡ï¼Œéœ€è¦ä¸micro:bitä¸­è®¾å®šçš„é€šè®¯é€Ÿç‡ä¸€è‡´</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>baudrate <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¾ç½®ä¸²å£å·</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>port <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;COM3&#39;</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>open()
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>    print(ser<span style="color:#f92672">.</span>readline())
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> serial
</span></span><span style="display:flex;"><span>ser <span style="color:#f92672">=</span> serial<span style="color:#f92672">.</span>Serial()
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>baudrate <span style="color:#f92672">=</span> <span style="color:#ae81ff">115200</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>port <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;COM3&#39;</span>
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>open()
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;microbit.txt&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è¯»å–20è¡Œçš„æ•°æ®</span>
</span></span><span style="display:flex;"><span>a<span style="color:#f92672">=</span><span style="color:#ae81ff">20</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> a<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>	a<span style="color:#f92672">-=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    line<span style="color:#f92672">=</span>ser<span style="color:#f92672">.</span>readline()
</span></span><span style="display:flex;"><span>	print(line)
</span></span><span style="display:flex;"><span>	f<span style="color:#f92672">.</span>write(line)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>ser<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h3 id="263-ç¼–å†™ç½‘ç»œåº”ç”¨ç¨‹åº">2.6.3 ç¼–å†™ç½‘ç»œåº”ç”¨ç¨‹åº</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_script <span style="color:#f92672">import</span> Server,Manager
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>manager <span style="color:#f92672">=</span> Manager(app)
</span></span><span style="display:flex;"><span>server <span style="color:#f92672">=</span> Server(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.0.0.0&#34;</span>,port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>,threaded<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>manager<span style="color:#f92672">.</span>add_command(<span style="color:#e6db74">&#34;runserver&#34;</span>,server)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªç½‘é¡µç¨‹åºï¼&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    manager<span style="color:#f92672">.</span>run()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, render_template
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_script <span style="color:#f92672">import</span> Server, Manager
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_bootstrap <span style="color:#f92672">import</span> Bootstrap
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_moment <span style="color:#f92672">import</span> Moment
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_wtf <span style="color:#f92672">import</span> FlaskForm
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wtforms <span style="color:#f92672">import</span> StringField, SubmitField
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wtforms.validators <span style="color:#f92672">import</span> Required
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;../&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> aiml
</span></span><span style="display:flex;"><span>k <span style="color:#f92672">=</span> aiml<span style="color:#f92672">.</span>Kernel()
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>learn(<span style="color:#e6db74">&#34;cn-startup.xml&#34;</span>)
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>respond(<span style="color:#e6db74">&#34;load aiml cn&#34;</span>)
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>respond(<span style="color:#e6db74">&#34;start&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SECRET_KEY&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;hard to guess string&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>manager <span style="color:#f92672">=</span> Manager(app)
</span></span><span style="display:flex;"><span>server <span style="color:#f92672">=</span> Server(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;127.0.0.1&#34;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>, threaded<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>manager<span style="color:#f92672">.</span>add_command(<span style="color:#e6db74">&#34;runserver&#34;</span>, server)
</span></span><span style="display:flex;"><span>bootstrap <span style="color:#f92672">=</span> Bootstrap(app)
</span></span><span style="display:flex;"><span>moment <span style="color:#f92672">=</span> Moment(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NameForm</span>(FlaskForm):
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> StringField(<span style="color:#e6db74">&#39;è¯·å¼€å§‹äº¤è°ˆï¼š&#39;</span>, validators<span style="color:#f92672">=</span>[Required()])
</span></span><span style="display:flex;"><span>    submit <span style="color:#f92672">=</span> SubmitField(<span style="color:#e6db74">&#39;æäº¤&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;GET&#39;</span>, <span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>():
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    form <span style="color:#f92672">=</span> NameForm()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> form<span style="color:#f92672">.</span>validate_on_submit():
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> form<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>data
</span></span><span style="display:flex;"><span>        form<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;index.html&#39;</span>, form<span style="color:#f92672">=</span>form, name<span style="color:#f92672">=</span>k<span style="color:#f92672">.</span>respond(name))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    manager<span style="color:#f92672">.</span>run()
</span></span></code></pre></div><h3 id="264-è°ƒè¯•å‘å¸ƒ">2.6.4 è°ƒè¯•å‘å¸ƒ</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_script <span style="color:#f92672">import</span> Server, Manager
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_sqlalchemy <span style="color:#f92672">import</span> SQLAlchemy
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å¯¼å…¥æ•°æ®åº“æ”¯æŒæ¨¡å—SQLAlchemy</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>basedir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>abspath(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__))   <span style="color:#75715e">#è·å–åº”ç”¨ç¨‹åºè·¯å¾„</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_DATABASE_URI&#39;</span>] <span style="color:#f92672">=</span>\
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;sqlite:///&#39;</span> <span style="color:#f92672">+</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(basedir, <span style="color:#e6db74">&#39;db</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">tlkDB.db&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#è®¾ç½®æ•°æ®åº“ä¸ºè¿è¡Œæ–‡ä»¶ç›®å½•ä¸‹çš„db\tlkDB.db</span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_COMMIT_ON_TEARDOWN&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>manager <span style="color:#f92672">=</span> Manager(app)
</span></span><span style="display:flex;"><span>server <span style="color:#f92672">=</span> Server(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.0.0.0&#34;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>, threaded<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>manager<span style="color:#f92672">.</span>add_command(<span style="color:#e6db74">&#34;runserver&#34;</span>, server)
</span></span><span style="display:flex;"><span>db <span style="color:#f92672">=</span> SQLAlchemy(app) <span style="color:#75715e">#å»ºç«‹åº”ç”¨appçš„æ•°æ®åº“å¯¹è±¡db</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#å®šä¹‰è¡¨tlkTxtçš„æ¨¡å‹CltkTxtï¼Œåœ¨Pythonä»£ç ä¸­CltkTxtå°±ä»£è¡¨tlkTxtè¡¨ã€‚</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CtlkTxt</span>(db<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    __tablename__ <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;tlkTxt&#39;</span>
</span></span><span style="display:flex;"><span>    id <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer, primary_key<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, index<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    own <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer)
</span></span><span style="display:flex;"><span>    txt <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">256</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __repr__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&lt;CtlkTxt </span><span style="color:#e6db74">%r</span><span style="color:#e6db74">&gt;&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    db<span style="color:#f92672">.</span>create_all()      <span style="color:#75715e">#åˆ›å»ºæ•°æ®åº“db\tlkDB.db</span>
</span></span><span style="display:flex;"><span>    manager<span style="color:#f92672">.</span>run()
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#SSHï¼Œå†æ¬¡æµ‹è¯•SSH</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> os
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask, render_template, session, redirect, url_for, flash
</span></span><span style="display:flex;"><span><span style="color:#75715e">#from flask_debugtoolbar import DebugToolbarExtension</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_script <span style="color:#f92672">import</span> Server, Manager
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_bootstrap <span style="color:#f92672">import</span> Bootstrap
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_moment <span style="color:#f92672">import</span> Moment
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_wtf <span style="color:#f92672">import</span> FlaskForm
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wtforms <span style="color:#f92672">import</span> StringField, SubmitField
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> wtforms.validators <span style="color:#f92672">import</span> Required
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask_sqlalchemy <span style="color:#f92672">import</span> SQLAlchemy
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys
</span></span><span style="display:flex;"><span>sys<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>insert(<span style="color:#ae81ff">0</span>, <span style="color:#e6db74">&#34;../&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> aiml
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>k <span style="color:#f92672">=</span> aiml<span style="color:#f92672">.</span>Kernel()
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>learn(<span style="color:#e6db74">&#34;cn-startup.xml&#34;</span>)
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>respond(<span style="color:#e6db74">&#34;load aiml cn&#34;</span>)
</span></span><span style="display:flex;"><span>k<span style="color:#f92672">.</span>respond(<span style="color:#e6db74">&#34;start&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>basedir <span style="color:#f92672">=</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>abspath(os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>dirname(__file__))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SECRET_KEY&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&lt;replace with a secret key&gt;&#39;</span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_DATABASE_URI&#39;</span>] <span style="color:#f92672">=</span> \
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;sqlite:///&#39;</span> <span style="color:#f92672">+</span> os<span style="color:#f92672">.</span>path<span style="color:#f92672">.</span>join(basedir, <span style="color:#e6db74">&#39;db</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">tlkDB.db&#39;</span>)
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_COMMIT_ON_TEARDOWN&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span>app<span style="color:#f92672">.</span>config[<span style="color:#e6db74">&#39;SQLALCHEMY_TRACK_MODIFICATIONS&#39;</span>] <span style="color:#f92672">=</span> <span style="color:#66d9ef">True</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#app.debug = True</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#toolbar = DebugToolbarExtension(app)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>manager <span style="color:#f92672">=</span> Manager(app)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#server = Server(host=&#34;0.0.0.0&#34;, port=80, use_debugger=True)</span>
</span></span><span style="display:flex;"><span>server <span style="color:#f92672">=</span> Server(host<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0.0.0.0&#34;</span>, port<span style="color:#f92672">=</span><span style="color:#ae81ff">80</span>)
</span></span><span style="display:flex;"><span>manager<span style="color:#f92672">.</span>add_command(<span style="color:#e6db74">&#34;runserver&#34;</span>, server)
</span></span><span style="display:flex;"><span>bootstrap <span style="color:#f92672">=</span> Bootstrap(app)
</span></span><span style="display:flex;"><span>moment <span style="color:#f92672">=</span> Moment(app)
</span></span><span style="display:flex;"><span>db <span style="color:#f92672">=</span> SQLAlchemy(app)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">CtlkTxt</span>(db<span style="color:#f92672">.</span>Model):
</span></span><span style="display:flex;"><span>    __tablename__ <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;tlkTxt&#39;</span>
</span></span><span style="display:flex;"><span>    id <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer, primary_key<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>, index<span style="color:#f92672">=</span><span style="color:#66d9ef">True</span>)
</span></span><span style="display:flex;"><span>    own <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>Integer)
</span></span><span style="display:flex;"><span>    txt <span style="color:#f92672">=</span> db<span style="color:#f92672">.</span>Column(db<span style="color:#f92672">.</span>String(<span style="color:#ae81ff">256</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> __repr__(self):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&lt;CtlkTxt </span><span style="color:#e6db74">%r</span><span style="color:#e6db74">&gt;&#39;</span> <span style="color:#f92672">%</span> self<span style="color:#f92672">.</span>txt
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NameForm</span>(FlaskForm):
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> StringField(<span style="color:#e6db74">&#39;è¯·å¼€å§‹äº¤è°ˆï¼š&#39;</span>, validators<span style="color:#f92672">=</span>[Required()])
</span></span><span style="display:flex;"><span>    submit <span style="color:#f92672">=</span> SubmitField(<span style="color:#e6db74">&#39;æäº¤&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    submit1 = SubmitField(&#39;æ¸…é™¤&#39;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>errorhandler(<span style="color:#ae81ff">404</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">page_not_found</span>(e):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;404.html&#39;</span>), <span style="color:#ae81ff">404</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>errorhandler(<span style="color:#ae81ff">500</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">internal_server_error</span>(e):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;500.html&#39;</span>), <span style="color:#ae81ff">500</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app</span><span style="color:#f92672">.</span>route(<span style="color:#e6db74">&#39;/&#39;</span>, methods<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;GET&#39;</span>, <span style="color:#e6db74">&#39;POST&#39;</span>])
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">index</span>():
</span></span><span style="display:flex;"><span>    name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    rp_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    form <span style="color:#f92672">=</span> NameForm()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> form<span style="color:#f92672">.</span>validate_on_submit():
</span></span><span style="display:flex;"><span>        name <span style="color:#f92672">=</span> form<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>data
</span></span><span style="display:flex;"><span>        form<span style="color:#f92672">.</span>name<span style="color:#f92672">.</span>data <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>        rp_name <span style="color:#f92672">=</span> k<span style="color:#f92672">.</span>respond(name)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> rp_name <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;&#34;</span>:
</span></span><span style="display:flex;"><span>            rp_name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;......(æ²‰é»˜ï¼‰&#34;</span>
</span></span><span style="display:flex;"><span>        my_txt <span style="color:#f92672">=</span> CtlkTxt(own <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, txt <span style="color:#f92672">=</span> name)
</span></span><span style="display:flex;"><span>        robot_txt <span style="color:#f92672">=</span> CtlkTxt(own <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>, txt <span style="color:#f92672">=</span> rp_name)
</span></span><span style="display:flex;"><span>        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>add(my_txt)
</span></span><span style="display:flex;"><span>        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>add(robot_txt)
</span></span><span style="display:flex;"><span>        db<span style="color:#f92672">.</span>session<span style="color:#f92672">.</span>commit()
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    n <span style="color:#f92672">=</span> CtlkTxt<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>count()
</span></span><span style="display:flex;"><span>    MtlkTxt <span style="color:#f92672">=</span> CtlkTxt<span style="color:#f92672">.</span>query<span style="color:#f92672">.</span>all()
</span></span><span style="display:flex;"><span>    i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    tdstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> i<span style="color:#f92672">&lt;</span>n:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> MtlkTxt[i]<span style="color:#f92672">.</span>own:
</span></span><span style="display:flex;"><span>            whostr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;æˆ‘ï¼š&#34;</span>
</span></span><span style="display:flex;"><span>            clrstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;font color=#ff0000&gt;&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            whostr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;æœºå™¨äººï¼š&#34;</span>
</span></span><span style="display:flex;"><span>            clrstr <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&lt;font color=#0000ff&gt;&#34;</span>
</span></span><span style="display:flex;"><span>        tdstr <span style="color:#f92672">=</span> tdstr <span style="color:#f92672">+</span> clrstr <span style="color:#f92672">+</span> whostr <span style="color:#f92672">+</span> MtlkTxt[i]<span style="color:#f92672">.</span>txt <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;&lt;/font&gt;&lt;br /&gt;&#34;</span>
</span></span><span style="display:flex;"><span>        i <span style="color:#f92672">=</span> i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> render_template(<span style="color:#e6db74">&#39;index.html&#39;</span>, tdstr<span style="color:#f92672">=</span>tdstr, form<span style="color:#f92672">=</span>form, name<span style="color:#f92672">=</span>rp_name)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#@app.route(&#39;/&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#def index():</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    return render_template(&#39;index.html&#39;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#@app.route(&#39;/talk/&lt;word&gt;&#39;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#def talk(word):</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    return render_template(&#39;user.html&#39;, webword=k.respond(word))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    manager<span style="color:#f92672">.</span>run()
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    app.run()</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#    app.run(debug=True)</span>
</span></span></code></pre></div><h2 id="å¿…ä¿®2-ç¬¬ä¸‰ç« ">å¿…ä¿®2 ç¬¬ä¸‰ç« </h2>
<h3 id="32--å‡¯æ’’å¯†ç åŠ è§£å¯†">3.2  å‡¯æ’’å¯†ç åŠ è§£å¯†</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span>  <span style="color:#a6e22e">change</span>(code,key):
</span></span><span style="display:flex;"><span>    code<span style="color:#f92672">=</span> code<span style="color:#f92672">.</span>lower()
</span></span><span style="display:flex;"><span>    m <span style="color:#f92672">=</span> ord(code)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> m <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">97</span> <span style="color:#f92672">and</span> m <span style="color:#f92672">&lt;=</span> <span style="color:#ae81ff">122</span>:
</span></span><span style="display:flex;"><span>        m <span style="color:#f92672">=</span> <span style="color:#ae81ff">97</span> <span style="color:#f92672">+</span> ((m <span style="color:#f92672">-</span> <span style="color:#ae81ff">97</span>) <span style="color:#f92672">+</span> key) <span style="color:#f92672">%</span> <span style="color:#ae81ff">26</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> chr(m)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span>  <span style="color:#a6e22e">encrypt</span>(code,key):
</span></span><span style="display:flex;"><span>    code_new <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> code:
</span></span><span style="display:flex;"><span>        code_new <span style="color:#f92672">+=</span> change(s,key)
</span></span><span style="display:flex;"><span>    print(code_new)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> code_new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span>  <span style="color:#a6e22e">decrypt</span>(code,key):
</span></span><span style="display:flex;"><span>    code_new <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> s <span style="color:#f92672">in</span> code:
</span></span><span style="display:flex;"><span>        m<span style="color:#f92672">=</span>ord(s)
</span></span><span style="display:flex;"><span>        code_new <span style="color:#f92672">+=</span>chr(m<span style="color:#f92672">-</span>key)
</span></span><span style="display:flex;"><span>    print(code_new)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> code_new
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;è¯·é€‰æ‹©æ•°å­—1æˆ–2ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;1ï¼šåŠ å¯†&#34;</span>)
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;2ï¼šè§£å¯†&#34;</span>)
</span></span><span style="display:flex;"><span>    select <span style="color:#f92672">=</span> input()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> select <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;1&#34;</span>:
</span></span><span style="display:flex;"><span>        code <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åŠ å¯†å­—ç¬¦ä¸²ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>        key <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åç§»ä½æ•°ï¼š&#34;</span>))
</span></span><span style="display:flex;"><span>        encrypt(code,key)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">elif</span> select <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;2&#34;</span>:
</span></span><span style="display:flex;"><span>        code <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥è§£å¯†å­—ç¬¦ä¸²ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>        key <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åç§»ä½æ•°ï¼š&#34;</span>))
</span></span><span style="display:flex;"><span>        decrypt(code,key)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;è¾“å…¥é”™è¯¯ï¼Œè¯·é‡è¯•ï¼&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h3 id="32--å·©å›ºä¸æé«˜--ç®€å•å¼‚æˆ–">3.2  å·©å›ºä¸æé«˜  ç®€å•å¼‚æˆ–</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">encrypt</span>(code, key):
</span></span><span style="display:flex;"><span>  code_new <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(code)):
</span></span><span style="display:flex;"><span>    code_new <span style="color:#f92672">+=</span> str(int(code[i]) <span style="color:#f92672">^</span> int(key[i]))
</span></span><span style="display:flex;"><span>  print(code_new)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> code_new
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åŠ å¯†å­—ç¬¦ä¸²ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>    key <span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å¯†é’¥å­—ç¬¦ä¸²ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>    encrypt(code,key)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>    main()
</span></span></code></pre></div><h3 id="32--æ€è€ƒä¸ç»ƒä¹ --æ¢ä½å¯†ç ">3.2  æ€è€ƒä¸ç»ƒä¹   æ¢ä½å¯†ç </h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">encrypt</span>(code, key):
</span></span><span style="display:flex;"><span>    code_new <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(code)):
</span></span><span style="display:flex;"><span>        code_new <span style="color:#f92672">+=</span> code[(i<span style="color:#f92672">+</span>key)<span style="color:#f92672">%</span>len(code)]
</span></span><span style="display:flex;"><span>    print(code_new)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> code_new
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">main</span>():
</span></span><span style="display:flex;"><span>    code <span style="color:#f92672">=</span> input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åŠ å¯†å­—ç¬¦ä¸²ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>    key <span style="color:#f92672">=</span> int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥åç§»ä½æ•°ï¼š&#34;</span>))
</span></span><span style="display:flex;"><span>    encrypt(code,key)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__<span style="color:#f92672">==</span><span style="color:#e6db74">&#39;__main__&#39;</span>:
</span></span><span style="display:flex;"><span>   main()
</span></span></code></pre></div><h2 id="å¿…ä¿®2-ç¬¬å››ç« ">å¿…ä¿®2 ç¬¬å››ç« </h2>
<h3 id="get_jsoné¡¹ç›®æŒ‘æˆ˜-æ•°æ®å¯è§†åŒ–">get_jsonï¼ˆé¡¹ç›®æŒ‘æˆ˜-æ•°æ®å¯è§†åŒ–ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#è¯»å–ä¼ æ„Ÿå™¨ç¼–å·ä¸º1çš„jsonæ•°æ®ï¼Œå¹¶ç»˜å›¾</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> sys<span style="color:#f92672">,</span> urllib.request<span style="color:#f92672">,</span> json
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pandas <span style="color:#66d9ef">as</span> pd
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> matplotlib.pyplot <span style="color:#66d9ef">as</span> plt
</span></span><span style="display:flex;"><span>url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;http://127.0.0.1:8080/get?id=1&#39;</span>
</span></span><span style="display:flex;"><span>req <span style="color:#f92672">=</span> urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>Request(url)
</span></span><span style="display:flex;"><span>resp <span style="color:#f92672">=</span> urllib<span style="color:#f92672">.</span>request<span style="color:#f92672">.</span>urlopen(req)
</span></span><span style="display:flex;"><span>content <span style="color:#f92672">=</span> resp<span style="color:#f92672">.</span>read()<span style="color:#f92672">.</span>decode(<span style="color:#e6db74">&#39;utf-8&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#75715e">#content=open(&#39;new-json.txt&#39;).read()</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> (content):
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#print(content)</span>
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> json<span style="color:#f92672">.</span>loads(content)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#èŠ‚ç‚¹å¯ä»¥è¿™æ ·è¯»å‡º</span>
</span></span><span style="display:flex;"><span>    print(data[<span style="color:#e6db74">&#39;sensorid&#39;</span>])
</span></span><span style="display:flex;"><span>    val<span style="color:#f92672">=</span>data[<span style="color:#e6db74">&#34;value&#34;</span>]
</span></span><span style="display:flex;"><span>    print(val[<span style="color:#ae81ff">0</span>])
</span></span><span style="display:flex;"><span>    df<span style="color:#f92672">=</span>pd<span style="color:#f92672">.</span>DataFrame(val)
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#print(df)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#ç»˜å›¾ï¼Œé»˜è®¤æ˜¯æŠ˜çº¿å›¾</span>
</span></span><span style="display:flex;"><span>    ax<span style="color:#f92672">=</span>df<span style="color:#f92672">.</span>plot()
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">#æ˜¾ç¤ºå›¾å½¢</span>
</span></span><span style="display:flex;"><span>    plt<span style="color:#f92672">.</span>show()
</span></span></code></pre></div><h3 id="iot-microbitdh11">iot-microbitï¼ˆdh11ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> Obloq
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> dht11
</span></span><span style="display:flex;"><span><span style="color:#75715e">#DH11æ¥åœ¨pin16</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;192.168.43.184&#34;</span>
</span></span><span style="display:flex;"><span>PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>SSID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jf&#34;</span>
</span></span><span style="display:flex;"><span>PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20040404&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uart<span style="color:#f92672">.</span>init(baudrate<span style="color:#f92672">=</span><span style="color:#ae81ff">115200</span>, bits<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, parity<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, stop<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, tx<span style="color:#f92672">=</span>pin2, rx<span style="color:#f92672">=</span>pin1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> Obloq<span style="color:#f92672">.</span>connectWifi(SSID,PASSWORD,<span style="color:#ae81ff">10000</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  display<span style="color:#f92672">.</span>show(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>display<span style="color:#f92672">.</span>scroll(Obloq<span style="color:#f92672">.</span>ifconfig())
</span></span><span style="display:flex;"><span>Obloq<span style="color:#f92672">.</span>httpSet(IP,PORT)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  temp,hum<span style="color:#f92672">=</span>dht11<span style="color:#f92672">.</span>read(<span style="color:#ae81ff">16</span>)
</span></span><span style="display:flex;"><span>  errno,resp<span style="color:#f92672">=</span>Obloq<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;input?id=1&amp;val=&#34;</span><span style="color:#f92672">+</span>str(temp),<span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> errno <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(resp)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(str(errno))
</span></span><span style="display:flex;"><span>  sleep(<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h3 id="iot-microbitdh11-å®Œæ•´-æç¤ºéŸ³">iot-microbitï¼ˆdh11-å®Œæ•´-æç¤ºéŸ³ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> Obloq
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> dht11
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> music
</span></span><span style="display:flex;"><span><span style="color:#75715e">#DH11æ¥åœ¨pin16</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;192.168.43.184&#34;</span>
</span></span><span style="display:flex;"><span>PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>SSID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jf&#34;</span>
</span></span><span style="display:flex;"><span>PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20040404&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uart<span style="color:#f92672">.</span>init(baudrate<span style="color:#f92672">=</span><span style="color:#ae81ff">115200</span>, bits<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, parity<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, stop<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, tx<span style="color:#f92672">=</span>pin2, rx<span style="color:#f92672">=</span>pin1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> Obloq<span style="color:#f92672">.</span>connectWifi(SSID,PASSWORD,<span style="color:#ae81ff">10000</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  display<span style="color:#f92672">.</span>show(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>display<span style="color:#f92672">.</span>scroll(Obloq<span style="color:#f92672">.</span>ifconfig())
</span></span><span style="display:flex;"><span>Obloq<span style="color:#f92672">.</span>httpSet(IP,PORT)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  temp,hum<span style="color:#f92672">=</span>dht11<span style="color:#f92672">.</span>read(<span style="color:#ae81ff">16</span>)
</span></span><span style="display:flex;"><span>  errno,resp<span style="color:#f92672">=</span>Obloq<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;input?id=1&amp;val=&#34;</span><span style="color:#f92672">+</span>str(temp),<span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> errno <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(resp)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> resp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>:
</span></span><span style="display:flex;"><span>      music<span style="color:#f92672">.</span>pitch(<span style="color:#ae81ff">440</span>, <span style="color:#ae81ff">2000</span>)
</span></span><span style="display:flex;"><span>      display<span style="color:#f92672">.</span>scroll(<span style="color:#e6db74">&#34;SOS&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(str(errno))
</span></span><span style="display:flex;"><span>  sleep(<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h3 id="iot-microbitdh11-å®Œæ•´-è¯­éŸ³">iot-microbitï¼ˆdh11-å®Œæ•´-è¯­éŸ³ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> Obloq
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> dht11
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> speech
</span></span><span style="display:flex;"><span><span style="color:#75715e">#DH11æ¥åœ¨pin16</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;192.168.43.184&#34;</span>
</span></span><span style="display:flex;"><span>PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>SSID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jf&#34;</span>
</span></span><span style="display:flex;"><span>PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20040404&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uart<span style="color:#f92672">.</span>init(baudrate<span style="color:#f92672">=</span><span style="color:#ae81ff">115200</span>, bits<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, parity<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, stop<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, tx<span style="color:#f92672">=</span>pin2, rx<span style="color:#f92672">=</span>pin1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> Obloq<span style="color:#f92672">.</span>connectWifi(SSID,PASSWORD,<span style="color:#ae81ff">10000</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  display<span style="color:#f92672">.</span>show(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>display<span style="color:#f92672">.</span>scroll(Obloq<span style="color:#f92672">.</span>ifconfig())
</span></span><span style="display:flex;"><span>Obloq<span style="color:#f92672">.</span>httpSet(IP,PORT)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  temp,hum<span style="color:#f92672">=</span>dht11<span style="color:#f92672">.</span>read(<span style="color:#ae81ff">16</span>)
</span></span><span style="display:flex;"><span>  errno,resp<span style="color:#f92672">=</span>Obloq<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;input?id=1&amp;val=&#34;</span><span style="color:#f92672">+</span>str(temp),<span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> errno <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(resp)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> resp<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;0&#34;</span>:
</span></span><span style="display:flex;"><span>      speech<span style="color:#f92672">.</span>say(<span style="color:#e6db74">&#34;Be careful,Be careful&#34;</span>)
</span></span><span style="display:flex;"><span>      display<span style="color:#f92672">.</span>scroll(<span style="color:#e6db74">&#34;SOS&#34;</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(str(errno))
</span></span><span style="display:flex;"><span>  sleep(<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h3 id="iot-microbitlm35">iot-microbitï¼ˆlm35ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> Obloq
</span></span><span style="display:flex;"><span><span style="color:#75715e">#Lm35æ¥åœ¨pin0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;192.168.43.184&#34;</span>
</span></span><span style="display:flex;"><span>PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>SSID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jf&#34;</span>
</span></span><span style="display:flex;"><span>PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;20040404&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uart<span style="color:#f92672">.</span>init(baudrate<span style="color:#f92672">=</span><span style="color:#ae81ff">115200</span>, bits<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, parity<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, stop<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, tx<span style="color:#f92672">=</span>pin2, rx<span style="color:#f92672">=</span>pin1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> Obloq<span style="color:#f92672">.</span>connectWifi(SSID,PASSWORD,<span style="color:#ae81ff">10000</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  display<span style="color:#f92672">.</span>show(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>display<span style="color:#f92672">.</span>scroll(Obloq<span style="color:#f92672">.</span>ifconfig())
</span></span><span style="display:flex;"><span>Obloq<span style="color:#f92672">.</span>httpSet(IP,PORT)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  errno,resp<span style="color:#f92672">=</span>Obloq<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;input?id=1&amp;val=&#34;</span><span style="color:#f92672">+</span>str(pin0<span style="color:#f92672">.</span>read_analog()),<span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> errno <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(resp)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(str(errno))
</span></span><span style="display:flex;"><span>  sleep(<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h3 id="iot-microbitè‡ªå¸¦æ¸©åº¦">iot-microbitï¼ˆè‡ªå¸¦æ¸©åº¦ï¼‰</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> microbit <span style="color:#f92672">import</span> <span style="color:#f92672">*</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> Obloq
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>IP<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;192.168.0.103&#34;</span>
</span></span><span style="display:flex;"><span>PORT<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;8080&#34;</span>
</span></span><span style="display:flex;"><span>SSID<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jys16f&#34;</span>
</span></span><span style="display:flex;"><span>PASSWORD<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;zjjys.16&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>uart<span style="color:#f92672">.</span>init(baudrate<span style="color:#f92672">=</span><span style="color:#ae81ff">115200</span>, bits<span style="color:#f92672">=</span><span style="color:#ae81ff">8</span>, parity<span style="color:#f92672">=</span><span style="color:#66d9ef">None</span>, stop<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>, tx<span style="color:#f92672">=</span>pin2, rx<span style="color:#f92672">=</span>pin1)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> Obloq<span style="color:#f92672">.</span>connectWifi(SSID,PASSWORD,<span style="color:#ae81ff">10000</span>) <span style="color:#f92672">!=</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>  display<span style="color:#f92672">.</span>show(<span style="color:#e6db74">&#34;.&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>display<span style="color:#f92672">.</span>scroll(Obloq<span style="color:#f92672">.</span>ifconfig())
</span></span><span style="display:flex;"><span>Obloq<span style="color:#f92672">.</span>httpSet(IP,PORT)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  errno,resp<span style="color:#f92672">=</span>Obloq<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#34;input?id=1&amp;val=&#34;</span><span style="color:#f92672">+</span>str(temperature()),<span style="color:#ae81ff">10000</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">if</span> errno <span style="color:#f92672">==</span> <span style="color:#ae81ff">200</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(resp)
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>    display<span style="color:#f92672">.</span>scroll(str(errno))
</span></span><span style="display:flex;"><span>  sleep(<span style="color:#ae81ff">1000</span><span style="color:#f92672">*</span><span style="color:#ae81ff">5</span>)
</span></span></code></pre></div><h1 id="é€‰æ‹©æ€§å¿…ä¿®1-æ•°æ®ä¸æ•°æ®ç»“æ„">é€‰æ‹©æ€§å¿…ä¿®1 æ•°æ®ä¸æ•°æ®ç»“æ„</h1>
<h2 id="31-è¡Œç¨‹ç¼–ç ">3.1 è¡Œç¨‹ç¼–ç </h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> pickle
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">bian</span>(word <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>):
</span></span><span style="display:flex;"><span>    new_word <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    renum <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    pre <span style="color:#f92672">=</span> word[<span style="color:#ae81ff">0</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(word)):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> word[i] <span style="color:#f92672">==</span> pre:
</span></span><span style="display:flex;"><span>            renum <span style="color:#f92672">=</span> renum <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">if</span> i <span style="color:#f92672">==</span> len(word) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>: new_word <span style="color:#f92672">+=</span> str(renum)<span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> pre
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">elif</span> i <span style="color:#f92672">!=</span> len(word) <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            new_word <span style="color:#f92672">+=</span> str(renum)<span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> pre <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span>
</span></span><span style="display:flex;"><span>            renum <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            pre <span style="color:#f92672">=</span> word[i]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> new_word
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#34;å›¾åƒç¼–ç .txt&#34;</span>,<span style="color:#e6db74">&#34;rb&#34;</span>)
</span></span><span style="display:flex;"><span>st<span style="color:#f92672">=</span>pickle<span style="color:#f92672">.</span>load(f)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span><span style="display:flex;"><span>b1<span style="color:#f92672">=</span>bian(st)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">=</span>open(<span style="color:#e6db74">&#34;è¡Œç¨‹ç¼–ç .txt&#34;</span>,<span style="color:#e6db74">&#34;wb&#34;</span>)
</span></span><span style="display:flex;"><span>pickle<span style="color:#f92672">.</span>dump(b1,f)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h2 id="31-é¢œè‰²ç¼–å·">3.1 é¢œè‰²ç¼–å·</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">readImage</span>(filename<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>):
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">from</span> PIL <span style="color:#f92672">import</span> Image
</span></span><span style="display:flex;"><span>    im <span style="color:#f92672">=</span> Image<span style="color:#f92672">.</span>open(filename)
</span></span><span style="display:flex;"><span>    im <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>convert(<span style="color:#e6db74">&#39;1&#39;</span>)
</span></span><span style="display:flex;"><span>    im_list <span style="color:#f92672">=</span><span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>    pix <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>load()
</span></span><span style="display:flex;"><span>    width <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">0</span>]          <span style="color:#75715e"># sizeä¸­æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬1ä¸ªä¸ºå›¾åƒå®½åº¦å€¼</span>
</span></span><span style="display:flex;"><span>    height <span style="color:#f92672">=</span> im<span style="color:#f92672">.</span>size[<span style="color:#ae81ff">1</span>]         <span style="color:#75715e"># ç¬¬2ä¸ªå‚æ•°ä¸ºå›¾åƒé«˜åº¦å€¼</span>
</span></span><span style="display:flex;"><span>    count<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    im<span style="color:#f92672">.</span>show(filename)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> range(width):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> y <span style="color:#f92672">in</span> range(height):
</span></span><span style="display:flex;"><span>            im_list <span style="color:#f92672">+=</span> str(pix[x, y]<span style="color:#f92672">//</span><span style="color:#ae81ff">255</span>)      <span style="color:#75715e"># æ ¹æ®åƒç´ ç‚¹åæ ‡è·å¾—è¯¥ç‚¹çš„ RGB å€¼</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> im_list
</span></span><span style="display:flex;"><span>im_list1 <span style="color:#f92672">=</span> readImage(<span style="color:#e6db74">&#39;é»‘ç™½å›¾ç‰‡.bmp&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> pickle
</span></span><span style="display:flex;"><span><span style="color:#75715e">#ä¿å­˜æ•°æ®</span>
</span></span><span style="display:flex;"><span>f <span style="color:#f92672">=</span> open(<span style="color:#e6db74">&#39;å›¾åƒç¼–ç .txt&#39;</span>, <span style="color:#e6db74">&#39;wb&#39;</span>)
</span></span><span style="display:flex;"><span>pickle<span style="color:#f92672">.</span>dump(im_list1, f)
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">.</span>close()
</span></span></code></pre></div><h2 id="äº”å­æ£‹">äº”å­æ£‹</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>n<span style="color:#f92672">=</span><span style="color:#ae81ff">5</span>
</span></span><span style="display:flex;"><span>qp<span style="color:#f92672">=</span>[[<span style="color:#ae81ff">0</span> <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n)] <span style="color:#66d9ef">for</span> j <span style="color:#f92672">in</span> range(n)]
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
</span></span><span style="display:flex;"><span>    print(qp[i])
</span></span><span style="display:flex;"><span>emp<span style="color:#f92672">=</span>n<span style="color:#f92672">*</span>n
</span></span><span style="display:flex;"><span>f<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>long<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> (long<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>)<span style="color:#f92672">and</span>(emp<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>):
</span></span><span style="display:flex;"><span>    long<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;è¯·é»‘æ–¹è½å­&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;è¯·ç™½æ–¹è½å­&#34;</span>)
</span></span><span style="display:flex;"><span>    x,y<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥è½å­ä½ç½®ï¼š&#34;</span>)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>    x<span style="color:#f92672">=</span>int(x)
</span></span><span style="display:flex;"><span>    y<span style="color:#f92672">=</span>int(y)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">or</span>(x<span style="color:#f92672">&gt;=</span>n)<span style="color:#f92672">or</span>(y<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">or</span>(y<span style="color:#f92672">&gt;=</span>n)<span style="color:#f92672">or</span>(qp[x][y]<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>):
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;è¯¥ä½ç½®ä¸èƒ½è½å­ï¼Œè¯·é‡æ–°è¾“å…¥è½å­ä½ç½®ï¼&#34;</span>)
</span></span><span style="display:flex;"><span>        x,y<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥è½å­ä½ç½®ï¼š&#34;</span>)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34; &#34;</span>)
</span></span><span style="display:flex;"><span>        x<span style="color:#f92672">=</span>int(x)
</span></span><span style="display:flex;"><span>        y<span style="color:#f92672">=</span>int(y)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        qp[x][y]<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        qp[x][y]<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(n):
</span></span><span style="display:flex;"><span>        print(qp[i])
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longx<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longx<span style="color:#f92672">=</span>longx<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longx:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longx
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longy<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longy<span style="color:#f92672">=</span>longy<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longy:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longy
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>longz<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longz:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longz
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>longz<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longz:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longz
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longx<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longx<span style="color:#f92672">=</span>longx<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longx:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longx
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longy<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longy<span style="color:#f92672">=</span>longy<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longy:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longy
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>longz<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longz:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longz
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(y<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">+</span>t][y<span style="color:#f92672">-</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>t
</span></span><span style="display:flex;"><span>        t<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">while</span> (x<span style="color:#f92672">-</span>t<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(y<span style="color:#f92672">+</span>t<span style="color:#f92672">&lt;</span>n)<span style="color:#f92672">and</span>(qp[x<span style="color:#f92672">-</span>t][y<span style="color:#f92672">+</span>t]<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>):
</span></span><span style="display:flex;"><span>            t<span style="color:#f92672">=</span>t<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        longz<span style="color:#f92672">=</span>longz<span style="color:#f92672">+</span>t<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> long<span style="color:#f92672">&lt;</span>longz:
</span></span><span style="display:flex;"><span>            long<span style="color:#f92672">=</span>longz
</span></span><span style="display:flex;"><span>    emp<span style="color:#f92672">=</span>emp<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> (emp<span style="color:#f92672">&gt;</span><span style="color:#ae81ff">0</span>)<span style="color:#f92672">and</span>(long<span style="color:#f92672">&lt;</span><span style="color:#ae81ff">5</span>):
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>            f<span style="color:#f92672">=</span><span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            f<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> emp<span style="color:#f92672">==</span><span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;æ¸¸æˆç»“æŸï¼Œå¹³å±€ï¼&#34;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">elif</span> long<span style="color:#f92672">&gt;=</span><span style="color:#ae81ff">5</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> f<span style="color:#f92672">==</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æ¸¸æˆç»“æŸï¼Œé»‘æ–¹èƒœï¼&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æ¸¸æˆç»“æŸï¼Œç™½æ–¹èƒœï¼&#34;</span>)
</span></span></code></pre></div><h2 id="ç¬¬ä¸‰ç« -å·©å›ºä¸æé«˜-è½¯ç¡¬è½¦å¢">ç¬¬ä¸‰ç«  å·©å›ºä¸æé«˜ è½¯ç¡¬è½¦å¢</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#75715e">#S:è½¯</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">#H:ç¡¬</span>
</span></span><span style="display:flex;"><span>s<span style="color:#f92672">=</span>input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥nèŠ‚è½¯ç¡¬è½¦å¢çš„åºåˆ—ï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>stack<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#34;&#34;</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>top<span style="color:#f92672">=-</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> i <span style="color:#f92672">in</span> range(len(s)):
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> s[i]<span style="color:#f92672">==</span><span style="color:#e6db74">&#34;H&#34;</span>:
</span></span><span style="display:flex;"><span>            top<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            stack[top]<span style="color:#f92672">=</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;ç¬¬</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">èŠ‚è½¦å¢å…¥æ ˆ&#34;</span><span style="color:#f92672">%</span>(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>            top<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;ç¬¬</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">èŠ‚è½¦å¢å…¥æ ˆ&#34;</span><span style="color:#f92672">%</span>(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>            top<span style="color:#f92672">-=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>            print(<span style="color:#e6db74">&#34;ç¬¬</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">èŠ‚è½¦å¢å‡ºæ ˆ&#34;</span><span style="color:#f92672">%</span>(i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> top<span style="color:#f92672">&gt;-</span><span style="color:#ae81ff">1</span>:
</span></span><span style="display:flex;"><span>       print(<span style="color:#e6db74">&#34;ç¬¬</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">èŠ‚è½¦å¢å‡ºæ ˆ&#34;</span><span style="color:#f92672">%</span>(stack[top]))
</span></span><span style="display:flex;"><span>       top<span style="color:#f92672">-=</span><span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h2 id="ç¬¬ä¸‰ç« -å·©å›ºä¸æé«˜-é¤é¦†å–å·å«å·">ç¬¬ä¸‰ç«  å·©å›ºä¸æé«˜ é¤é¦†å–å·å«å·</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>queuetwo<span style="color:#f92672">=</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>queuefour<span style="color:#f92672">=</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>queuesix<span style="color:#f92672">=</span>[<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>]<span style="color:#f92672">*</span><span style="color:#ae81ff">100</span>
</span></span><span style="display:flex;"><span>headtwo<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>tailtwo<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>headfour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>tailfour<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>headsix<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>tailsix<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>print(<span style="color:#e6db74">&#34;è¯·è¾“å…¥å…·ä½“çš„æ“ä½œï¼š&#34;</span>)
</span></span><span style="display:flex;"><span>x<span style="color:#f92672">=</span>int(input())
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">while</span> x<span style="color:#f92672">!=</span><span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">2</span>:
</span></span><span style="display:flex;"><span>        queuetwo[tailtwo]<span style="color:#f92672">=</span>queuetwo[tailtwo]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æ‚¨å½“å‰çš„å·ç ä¸ºï¼šTWO</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">ï¼Œéœ€è¦ç­‰å¾…çš„äººæ•°ä¸º</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">%</span>(tailtwo,tailtwo<span style="color:#f92672">-</span>headtwo))
</span></span><span style="display:flex;"><span>        tailtwo<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">4</span>:
</span></span><span style="display:flex;"><span>        queuefour[tailfour]<span style="color:#f92672">=</span>queuefour[tailfour]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æ‚¨å½“å‰çš„å·ç ä¸ºï¼šFOUR</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">ï¼Œéœ€è¦ç­‰å¾…çš„äººæ•°ä¸º</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">%</span>(tailfour,tailfour<span style="color:#f92672">-</span>headfour))
</span></span><span style="display:flex;"><span>        tailfour<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">6</span>:
</span></span><span style="display:flex;"><span>        queuesix[tailsix]<span style="color:#f92672">=</span>queuesix[tailsix]<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>        print(<span style="color:#e6db74">&#34;æ‚¨å½“å‰çš„å·ç ä¸ºï¼šSIX</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">ï¼Œéœ€è¦ç­‰å¾…çš„äººæ•°ä¸º</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">&#34;</span><span style="color:#f92672">%</span>(tailsix,tailsix<span style="color:#f92672">-</span>headsix))
</span></span><span style="display:flex;"><span>        tailsix<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">12</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> headtwo<span style="color:#f92672">==</span>tailtwo:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;å¯¹ä¸èµ·ï¼Œæ²¡æœ‰ç­‰å¾…çš„äºº&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;è¯·TWO</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">å·å®¢æˆ·å‡†å¤‡ï¼Œé©¬ä¸Šå¸®æ‚¨å®‰æ’&#34;</span><span style="color:#f92672">%</span>(headtwo))
</span></span><span style="display:flex;"><span>              headtwo<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">14</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> headfour<span style="color:#f92672">==</span>tailfour:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;å¯¹ä¸èµ·ï¼Œæ²¡æœ‰ç­‰å¾…çš„äºº&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;è¯·FOUR</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">å·å®¢æˆ·å‡†å¤‡ï¼Œé©¬ä¸Šå¸®æ‚¨å®‰æ’&#34;</span><span style="color:#f92672">%</span>(headfour))
</span></span><span style="display:flex;"><span>              headfour<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> x<span style="color:#f92672">==</span><span style="color:#ae81ff">16</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> headsix<span style="color:#f92672">==</span>tailsix:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;å¯¹ä¸èµ·ï¼Œæ²¡æœ‰ç­‰å¾…çš„äºº&#34;</span>)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>              print(<span style="color:#e6db74">&#34;è¯·SIX</span><span style="color:#e6db74">%d</span><span style="color:#e6db74">å·å®¢æˆ·å‡†å¤‡ï¼Œé©¬ä¸Šå¸®æ‚¨å®‰æ’&#34;</span><span style="color:#f92672">%</span>(headsix))
</span></span><span style="display:flex;"><span>              headsix<span style="color:#f92672">+=</span><span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    x<span style="color:#f92672">=</span>int(input(<span style="color:#e6db74">&#34;è¯·è¾“å…¥æ“ä½œï¼š&#34;</span>))
</span></span></code></pre></div>
			
		</article>
	</main>

  <a href="https://xy-iii.github.io/posts/english/">Prev: English</a>

<br>

<aside>
    <div>
        <div>
            <h3>LATEST POSTS</h3>
        </div>
        <div>
            <ul>
                
                <li><a href="/posts/code_in_ncee/">Code in ncee</a></li>
                
                <li><a href="/posts/english/">English</a></li>
                
                <li><a href="/posts/calendar/">calendar</a></li>
                
                <li><a href="/posts/math_formula/">Math formula</a></li>
                
                <li><a href="/posts/probability_theory/">Probability theory</a></li>
                
            </ul>
        </div>
    </div>
</aside>


	<footer>
    <p>&copy; 2022 <a href="https://xy-iii.github.io">ğ’©ğ‘’ğ“‹ğ‘’ğ“‡ ğ“€ğ“ƒğ‘œğ“Œğ“ˆ ğ’·ğ‘’ğ“ˆğ“‰</a></p>
</footer>

</body>
</html>
